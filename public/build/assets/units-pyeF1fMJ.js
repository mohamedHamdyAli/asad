import{m as s}from"./app-4D-wkT_p.js";function U(e){try{return typeof e=="string"?JSON.parse(e):e}catch{return e}}function $(e){const n=U(e);return n&&typeof n=="object"?{en:n.en??"",ar:n.ar??""}:{en:n??"",ar:n??""}}function y(e){var n;return Array.isArray(e)?e:Array.isArray(e==null?void 0:e.data)?e.data:Array.isArray(e==null?void 0:e.message)?e.message:Array.isArray((n=e==null?void 0:e.data)==null?void 0:n.data)?e.data.data:[]}function b(e){return(e==null?void 0:e.data)??(e==null?void 0:e.message)??e}function h(e){return e?`/storage/${e}`:""}function S(e){return e?String(e).slice(0,10):""}function A(e={}){const n=$(e.name),r=$(e.description),u=Array.isArray(e.home_unit_gallery)?e.home_unit_gallery.map(i=>({id:i.id??void 0,image:i.image,image_url:h(i.image)})):Array.isArray(e.gallery)?e.gallery.map(i=>({id:i.id??void 0,image:i.image,image_url:h(i.image)})):[];return{...e,name_en:n.en,name_ar:n.ar,description_en:r.en,description_ar:r.ar,location:e.location??"",lat:e.lat??null,long:e.long??null,start_date:S(e.start_date),end_date:S(e.end_date),status:e.status??"",user_id:e.user_id??null,vendor_id:e.vendor_id??null,cover_image_url:h(e.cover_image),gallery:u}}const v={list:async(e={})=>{const{data:n}=await s.get("/api/units",{params:e});return y(n).map(A)},listByUser:async(e,n={})=>{const{data:r}=await s.get(`/api/units/user/${e}`,{params:n});return y(r).map(A)},listByVendor:async(e,n={})=>{const{data:r}=await s.get(`/api/units/vendor/${e}`,{params:n});return y(r).map(A)},show:async e=>{const{data:n}=await s.get(`/api/units/show/${e}`);return A(b(n))},create:async e=>{const{data:n}=await s.post("/api/units/create",e,{headers:{"Content-Type":"multipart/form-data"}});return n},update:async(e,n)=>{const{data:r}=await s.post(`/api/units/update/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});return r},remove:async e=>{const{data:n}=await s.delete(`/api/units/delete/${e}`);return n},deleteCover:async e=>{const{data:n}=await s.delete(`/api/units/${e}/cover`);return n},deleteGalleryImage:async(e,n)=>{const{data:r}=await s.delete(`/api/units/${e}/gallery/${n}`);return r}};function C({name:e={en:"",ar:""},description:n={en:"",ar:""},location:r,lat:u,long:i,start_date:m,end_date:l,cover_image:c,gallery:_=[],user_id:f,vendor_id:w,status:o,...g}){const a=new FormData;return a.append("name[en]",e.en??""),a.append("name[ar]",e.ar??""),a.append("description[en]",n.en??""),a.append("description[ar]",n.ar??""),a.append("location",r??""),a.append("lat",String(u??"")),a.append("long",String(i??"")),a.append("start_date",m??""),a.append("end_date",l??""),c&&a.append("cover_image",c),(_||[]).forEach((t,d)=>{t&&a.append(`gallery[${d}]`,t)}),a.append("user_id",String(f??"")),a.append("vendor_id",String(w??"")),o&&a.append("status",o),Object.entries(g).forEach(([t,d])=>{d!=null&&d!==""&&a.append(t,d)}),a}function D(e={}){const{name:n,description:r,location:u,lat:i,long:m,start_date:l,end_date:c,cover_image:_,gallery:f,user_id:w,vendor_id:o,status:g,...a}=e,t=new FormData;return n&&(n.en!==void 0&&t.append("name[en]",n.en??""),n.ar!==void 0&&t.append("name[ar]",n.ar??"")),r&&(r.en!==void 0&&t.append("description[en]",r.en??""),r.ar!==void 0&&t.append("description[ar]",r.ar??"")),u!==void 0&&t.append("location",u??""),i!==void 0&&t.append("lat",String(i??"")),m!==void 0&&t.append("long",String(m??"")),l!==void 0&&t.append("start_date",l??""),c!==void 0&&t.append("end_date",c??""),_&&t.append("cover_image",_),Array.isArray(f)&&f.length&&f.forEach((d,p)=>{d&&t.append(`gallery[${p}]`,d)}),w!==void 0&&t.append("user_id",String(w??"")),o!==void 0&&t.append("vendor_id",String(o??"")),g!==void 0&&g!==""&&t.append("status",g),Object.entries(a).forEach(([d,p])=>{p!=null&&p!==""&&t.append(d,p)}),t}export{v as U,C as a,D as b};
