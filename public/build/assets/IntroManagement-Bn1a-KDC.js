import{k as m,A as b,c as x,o as n,w,b as s,j as r,l as c,m as I,f as u,F as k,p as C,t as l,h as D,H as i}from"./app-B0K35xFQ.js";import{_ as M}from"./AuthenticatedLayout-DAC8Wvjh.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"p-6"},A={class:"bg-white p-4 rounded shadow mb-6"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},B={class:"bg-white p-4 rounded shadow"},S={class:"font-semibold"},U={class:"text-sm text-gray-600"},j={class:"text-sm"},E={class:"flex gap-2 items-center"},N=["src"],O=["onClick"],T=["onClick"],H={__name:"IntroManagement",setup(L){const p=m([]),o=m({name:"",description:"",image:null,order:"",status:"active"}),d=async()=>{try{const a=await i.get("/intro");p.value=a.data.data}catch(a){console.error("Failed to load intros:",a)}},v=async()=>{const a=new FormData;a.append("name",o.value.name),a.append("description",o.value.description),a.append("image",o.value.image),a.append("order",o.value.order),a.append("status",o.value.status);try{const e=await i.post("/intro/create",a);alert(e.data.message),d(),o.value={name:"",description:"",image:null,order:"",status:"active"}}catch(e){console.error("Create failed:",e)}},g=async a=>{if(confirm("Are you sure you want to delete this intro?"))try{const e=await i.delete(`/intro/delete/${a}`);alert(e.data.message),d()}catch(e){console.error("Delete failed:",e)}},f=async a=>{try{const t=(await i.get(`/intro/edit/${a}`)).data.data;o.value={name:t.name,description:t.description,order:t.order,status:t.status,image:null}}catch(e){console.error("Edit fetch failed:",e)}},h=a=>{o.value.image=a.target.files[0]},_=a=>a?`/storage/${a}`:"";return b(d),(a,e)=>(n(),x(M,null,{default:w(()=>[s("div",$,[e[7]||(e[7]=s("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Intro Management",-1)),s("div",A,[e[5]||(e[5]=s("h3",{class:"text-lg font-bold mb-4"},"Add New Intro",-1)),s("div",F,[r(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.name=t),type:"text",placeholder:"Title",class:"form-input"},null,512),[[c,o.value.name]]),r(s("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.description=t),type:"text",placeholder:"Description",class:"form-input"},null,512),[[c,o.value.description]]),r(s("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.order=t),type:"number",placeholder:"Order",class:"form-input"},null,512),[[c,o.value.order]]),r(s("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.status=t),class:"form-input"},e[4]||(e[4]=[s("option",{value:"active"},"Active",-1),s("option",{value:"in_active"},"Inactive",-1)]),512),[[I,o.value.status]]),s("input",{type:"file",onChange:h,class:"form-input"},null,32)]),s("button",{onClick:v,class:"mt-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700"},"Add Intro")]),s("div",B,[e[6]||(e[6]=s("h3",{class:"text-lg font-bold mb-4"},"Intro Screens",-1)),(n(!0),u(k,null,C(p.value,t=>(n(),u("div",{key:t.id,class:"flex justify-between items-center border-b py-2"},[s("div",null,[s("div",S,l(t.name),1),s("div",U,l(t.description),1),s("div",j,"Order: "+l(t.order)+" | Status: "+l(t.status),1)]),s("div",E,[t.image?(n(),u("img",{key:0,src:_(t.image),class:"w-16 h-10 object-cover rounded"},null,8,N)):D("",!0),s("button",{onClick:y=>f(t.id),class:"text-blue-600 hover:underline"},"Edit",8,O),s("button",{onClick:y=>g(t.id),class:"text-red-600 hover:underline"},"Delete",8,T)])]))),128))])])]),_:1}))}},G=V(H,[["__scopeId","data-v-3ac822a2"]]);export{G as default};
