import{p as f,r as w,f as a,o as r,a as v,u as S,g as j,w as E,b as e,h as d,j as p,y as L,t as i,k as y,F as N,m as C}from"./app-BJTdg9d3.js";import{_ as F}from"./AuthenticatedLayout-CXlQqzHs.js";import{M as O}from"./MapPicker-B4eNuMH_.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"p-6 space-y-6 max-w-4xl"},T={key:0,class:"text-sm text-gray-500"},q={key:1,class:"bg-white p-6 rounded-2xl shadow-sm border space-y-6"},D={key:0,class:"text-red-600 text-xs"},I={key:0,class:"text-red-600 text-xs"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z={key:0,class:"text-red-600 text-xs"},G={key:0,class:"text-red-600 text-xs"},H={key:0,class:"text-red-600 text-xs"},J={key:0,class:"text-red-600 text-xs"},Q={key:0,class:"text-red-600 text-xs"},R={class:"space-y-2"},W={class:"grid grid-cols-2 gap-3"},X=["value"],Y=["value"],Z={key:0,class:"text-red-600 text-xs"},h={class:"flex justify-end"},tt=["disabled"],et={key:0,class:"p-3 bg-green-100 text-green-700 border rounded"},nt={key:1,class:"p-3 bg-red-100 text-red-700 border rounded"},ot={__name:"ContactUsPage",setup(st){const U=f(!1),b=f(!1),g=f(""),x=f(""),m=w({}),n=w({country:"",telephone:"",account_name:"",bank_name:"",iban:"",currency:"",swift_code:"",location:"",lat:"",long:""});async function B(){var l,t;if(_(),$(),!!n.country)try{const{data:o}=await C.get(`/api/contact-infos?country=${n.country}`),u=((l=o.data)==null?void 0:l[0])||null;if(!u||((t=u.country)==null?void 0:t.toLowerCase())!==n.country.toLowerCase()){k(),n.country=n.country;return}Object.assign(n,{country:n.country,telephone:u.telephone,account_name:u.account_name,bank_name:u.bank_name,iban:u.iban,currency:u.currency,swift_code:u.swift_code,location:u.location,lat:u.lat,long:u.long})}catch(o){console.error(o),k(),n.country=n.country}}function c(l){n[l]?delete m[l]:m[l]=`${l.replace("_"," ")} is required`}function V(){return["country","telephone","account_name","bank_name","iban","currency","swift_code","location"].forEach(c),Object.keys(m).length===0}async function M(){var l,t;if(_(),!V()){x.value="Please fill in all required fields.";return}b.value=!0;try{await C.post("/api/contact-infos/update",n),g.value="Saved successfully!"}catch(o){x.value=((t=(l=o==null?void 0:o.response)==null?void 0:l.data)==null?void 0:t.message)||"Save failed. Try again."}finally{b.value=!1}}function k(){Object.assign(n,{telephone:"",account_name:"",bank_name:"",iban:"",currency:"",swift_code:"",location:"",lat:"",long:""})}function _(){g.value="",x.value=""}function $(){Object.keys(m).forEach(l=>delete m[l])}function s(l){return m[l]||""}return(l,t)=>(r(),a(N,null,[v(S(j),{title:"Contact Us Management"}),v(F,null,{default:E(()=>[e("div",A,[t[27]||(t[27]=e("h2",{class:"text-2xl font-semibold text-dash-title"}," Contact Us Management ",-1)),U.value?(r(),a("div",T," Loading… ")):(r(),a("div",q,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Country",-1)),p(e("select",{class:"form-input","onUpdate:modelValue":t[0]||(t[0]=o=>n.country=o),onChange:B},t[16]||(t[16]=[e("option",{value:""},"—",-1),e("option",{value:"Egypt"},"Egypt",-1),e("option",{value:"Kuwait"},"Kuwait",-1)]),544),[[L,n.country]]),s("country")?(r(),a("p",D,i(s("country")),1)):d("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Telephone",-1)),p(e("input",{class:"form-input","onUpdate:modelValue":t[1]||(t[1]=o=>n.telephone=o),onBlur:t[2]||(t[2]=o=>c("telephone"))},null,544),[[y,n.telephone]]),s("telephone")?(r(),a("p",I,i(s("telephone")),1)):d("",!0)]),e("div",K,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Account Name",-1)),p(e("input",{class:"form-input","onUpdate:modelValue":t[3]||(t[3]=o=>n.account_name=o),onBlur:t[4]||(t[4]=o=>c("account_name"))},null,544),[[y,n.account_name]]),s("account_name")?(r(),a("p",z,i(s("account_name")),1)):d("",!0)]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Bank Name",-1)),p(e("input",{class:"form-input","onUpdate:modelValue":t[5]||(t[5]=o=>n.bank_name=o),onBlur:t[6]||(t[6]=o=>c("bank_name"))},null,544),[[y,n.bank_name]]),s("bank_name")?(r(),a("p",G,i(s("bank_name")),1)):d("",!0)]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-xs text-gray-500 mb-1"},"IBAN",-1)),p(e("input",{class:"form-input","onUpdate:modelValue":t[7]||(t[7]=o=>n.iban=o),onBlur:t[8]||(t[8]=o=>c("iban"))},null,544),[[y,n.iban]]),s("iban")?(r(),a("p",H,i(s("iban")),1)):d("",!0)]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Currency",-1)),p(e("input",{class:"form-input","onUpdate:modelValue":t[9]||(t[9]=o=>n.currency=o),onBlur:t[10]||(t[10]=o=>c("currency"))},null,544),[[y,n.currency]]),s("currency")?(r(),a("p",J,i(s("currency")),1)):d("",!0)]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Swift Code",-1)),p(e("input",{class:"form-input","onUpdate:modelValue":t[11]||(t[11]=o=>n.swift_code=o),onBlur:t[12]||(t[12]=o=>c("swift_code"))},null,544),[[y,n.swift_code]]),s("swift_code")?(r(),a("p",Q,i(s("swift_code")),1)):d("",!0)])]),e("div",R,[t[26]||(t[26]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Location",-1)),v(O,{lat:n.lat,lng:n.long,address:n.location,"onUpdate:lat":t[13]||(t[13]=o=>n.lat=o),"onUpdate:lng":t[14]||(t[14]=o=>n.long=o),"onUpdate:address":t[15]||(t[15]=o=>n.location=o)},null,8,["lat","lng","address"]),e("div",W,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Latitude",-1)),e("input",{class:"form-input bg-gray-100 cursor-not-allowed",value:n.lat,disabled:""},null,8,X)]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-xs text-gray-500 mb-1"},"Longitude",-1)),e("input",{class:"form-input bg-gray-100 cursor-not-allowed",value:n.long,disabled:""},null,8,Y)])]),s("location")?(r(),a("p",Z,i(s("location")),1)):d("",!0)]),e("div",h,[e("button",{class:"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-50",disabled:b.value,onClick:M},i(b.value?"Saving…":"Save"),9,tt)]),g.value?(r(),a("div",et,i(g.value),1)):d("",!0),x.value?(r(),a("div",nt,i(x.value),1)):d("",!0)]))])]),_:1})],64))}},it=P(ot,[["__scopeId","data-v-cf87c54f"]]);export{it as default};
