import{m as p}from"./app-U0-T6Gos.js";function f(a){try{return typeof a=="string"?JSON.parse(a):a}catch{return a}}function u(a){var e;return Array.isArray(a)?a:Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a==null?void 0:a.message)?a.message:Array.isArray((e=a==null?void 0:a.data)==null?void 0:e.data)?a.data.data:[]}function m(a){return a?`/storage/${a}`:""}function i(a={}){const e=f(a.title),n=f(a.description),t=e&&typeof e=="object"?e:{en:e??"",ar:e??""},r=n&&typeof n=="object"?n:{en:n??"",ar:n??""};return{id:a.id,email:a.email||"",image:a.image||"",image_url:m(a.image),title_en:t.en??"",title_ar:t.ar??"",description_en:r.en??"",description_ar:r.ar??"",created_at:a.created_at,updated_at:a.updated_at}}const h={list:async()=>{const{data:a}=await p.get("/api/contractors");return u(a).map(i)},show:async a=>{const{data:e}=await p.get(`/api/contractors/show/${a}`),n=(e==null?void 0:e.data)??e;return i(n)},edit:async a=>{const{data:e}=await p.get(`/api/contractors/edit/${a}`),n=(e==null?void 0:e.data)??e;return i(n)},create:async a=>{const{data:e}=await p.post("/api/contractors/create",a,{headers:{"Content-Type":"multipart/form-data"}});return e},update:async(a,e)=>{const{data:n}=await p.post(`/api/contractors/update/${a}`,e,{headers:{"Content-Type":"multipart/form-data"}});return n},remove:async a=>{const{data:e}=await p.delete(`/api/contractors/delete/${a}`);return e}};function g(a=[]){const e=new FormData;return a.forEach((n,t)=>{var r,s,d,c;e.append(`data[${t}][email]`,n.email),e.append(`data[${t}][title][en]`,n.title.en),e.append(`data[${t}][title][ar]`,n.title.ar),e.append(`data[${t}][description][en]`,n.description.en),e.append(`data[${t}][description][ar]`,n.description.ar),n.company_phone&&e.append(`data[${t}][company_phone]`,n.company_phone),n.representative_phone&&e.append(`data[${t}][representative_phone]`,n.representative_phone),(r=n.company_address)!=null&&r.en&&e.append(`data[${t}][company_address][en]`,n.company_address.en),(s=n.company_address)!=null&&s.ar&&e.append(`data[${t}][company_address][ar]`,n.company_address.ar),(d=n.representative_name)!=null&&d.en&&e.append(`data[${t}][representative_name][en]`,n.representative_name.en),(c=n.representative_name)!=null&&c.ar&&e.append(`data[${t}][representative_name][ar]`,n.representative_name.ar),n.image&&e.append(`data[${t}][image]`,n.image)}),e}function $(a={}){var n,t,r,s,d,c,o,_;const e=new FormData;return a.email&&e.append("data[email]",a.email),(n=a.title)!=null&&n.en&&e.append("data[title][en]",a.title.en),(t=a.title)!=null&&t.ar&&e.append("data[title][ar]",a.title.ar),(r=a.description)!=null&&r.en&&e.append("data[description][en]",a.description.en),(s=a.description)!=null&&s.ar&&e.append("data[description][ar]",a.description.ar),a.company_phone&&e.append("data[company_phone]",a.company_phone),a.representative_phone&&e.append("data[representative_phone]",a.representative_phone),(d=a.company_address)!=null&&d.en&&e.append("data[company_address][en]",a.company_address.en),(c=a.company_address)!=null&&c.ar&&e.append("data[company_address][ar]",a.company_address.ar),(o=a.representative_name)!=null&&o.en&&e.append("data[representative_name][en]",a.representative_name.en),(_=a.representative_name)!=null&&_.ar&&e.append("data[representative_name][ar]",a.representative_name.ar),a.image&&e.append("data[image]",a.image),e}export{h as C,g as a,$ as b};
