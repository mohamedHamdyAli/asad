import{m as i}from"./app-ClThdbk1.js";function u(e){try{return typeof e=="string"?JSON.parse(e):e}catch{return e}}function d(e){var n;return Array.isArray(e)?e:Array.isArray(e==null?void 0:e.data)?e.data:Array.isArray(e==null?void 0:e.message)?e.message:Array.isArray((n=e==null?void 0:e.data)==null?void 0:n.data)?e.data.data:[]}function f(e){return e?`/storage/${e}`:""}function s(e={}){const n=u(e.title),r=u(e.description),t=n&&typeof n=="object"?n:{en:n??"",ar:n??""},a=r&&typeof r=="object"?r:{en:r??"",ar:r??""};return{id:e.id,email:e.email||"",image:e.image||"",image_url:f(e.image),title_en:t.en??"",title_ar:t.ar??"",description_en:a.en??"",description_ar:a.ar??"",created_at:e.created_at,updated_at:e.updated_at}}const g={list:async()=>{const{data:e}=await i.get("/api/contractors");return d(e).map(s)},show:async e=>{const{data:n}=await i.get(`/api/contractors/show/${e}`),r=(n==null?void 0:n.data)??n;return s(r)},edit:async e=>{const{data:n}=await i.get(`/api/contractors/edit/${e}`),r=(n==null?void 0:n.data)??n;return s(r)},create:async e=>{const{data:n}=await i.post("/api/contractors/create",e,{headers:{"Content-Type":"multipart/form-data"}});return n},update:async(e,n)=>{const{data:r}=await i.post(`/api/contractors/update/${e}`,n,{headers:{"Content-Type":"multipart/form-data"}});return r},remove:async e=>{const{data:n}=await i.delete(`/api/contractors/delete/${e}`);return n}};function l(e=[]){const n=new FormData;return e.forEach((r,t)=>{var a,c,o,p;n.append(`data[${t}][title][en]`,((a=r==null?void 0:r.title)==null?void 0:a.en)??""),n.append(`data[${t}][title][ar]`,((c=r==null?void 0:r.title)==null?void 0:c.ar)??""),n.append(`data[${t}][description][en]`,((o=r==null?void 0:r.description)==null?void 0:o.en)??""),n.append(`data[${t}][description][ar]`,((p=r==null?void 0:r.description)==null?void 0:p.ar)??""),n.append(`data[${t}][email]`,(r==null?void 0:r.email)??""),r!=null&&r.image&&n.append(`data[${t}][image]`,r.image)}),n}function $(e={}){const n=new FormData;return e!=null&&e.title&&(e.title.en!==void 0&&n.append("data[title][en]",e.title.en),e.title.ar!==void 0&&n.append("data[title][ar]",e.title.ar)),e!=null&&e.description&&(e.description.en!==void 0&&n.append("data[description][en]",e.description.en),e.description.ar!==void 0&&n.append("data[description][ar]",e.description.ar)),(e==null?void 0:e.email)!==void 0&&n.append("data[email]",e.email),e!=null&&e.image&&n.append("data[image]",e.image),n}export{g as C,$ as a,l as b};
