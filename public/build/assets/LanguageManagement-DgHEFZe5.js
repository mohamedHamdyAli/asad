import{k as x,f as c,o as i,b as e,j as d,l as p,m as R,e as V,v as T,F as M,p as U,t as y,A as N,c as A,w as _,h as D,a as v,u as f,S as $,n as E,H as C}from"./app-B0K35xFQ.js";import{I as F,_ as I}from"./AuthenticatedLayout-DAC8Wvjh.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center px-4"},z={class:"bg-white rounded-xl shadow-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto p-6 relative"},W={class:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6"},q={class:"text-sm text-gray-600"},H={class:"space-y-6"},P={class:"text-md font-semibold mb-4 text-gray-700 border-b pb-2"},G={class:"space-y-3"},J={class:"w-1/3 text-sm text-gray-600 truncate"},K=["onUpdate:modelValue"],O={class:"mt-8 flex justify-between"},Q={__name:"LanguageModal",emits:["close"],setup(j,{emit:h}){const s=h,n=x({name:"",code:"",scope:"",rtl:!1}),u=x({auth:{login:"",register:"",logout:""},validation:{required:"",email:"",min:""},home:{welcome:"",description:""}}),k=()=>{console.log("Language Meta:",n.value),console.log("Translation Files:",u.value),s("close")};return(b,l)=>(i(),c("div",B,[e("div",z,[l[7]||(l[7]=e("h3",{class:"text-xl font-bold text-gray-800 mb-6"},"Add New Language",-1)),e("div",W,[d(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>n.value.name=r),type:"text",placeholder:"Language Name (e.g. French)",class:"form-input"},null,512),[[p,n.value.name]]),d(e("input",{"onUpdate:modelValue":l[1]||(l[1]=r=>n.value.code=r),type:"text",placeholder:"Code (e.g. fr)",class:"checkbox-form-input"},null,512),[[p,n.value.code]]),d(e("select",{"onUpdate:modelValue":l[2]||(l[2]=r=>n.value.scope=r),class:"form-input"},l[5]||(l[5]=[e("option",{disabled:"",value:""},"Select App",-1),e("option",{value:"user"},"User App",-1),e("option",{value:"worker"},"Worker App",-1)]),512),[[R,n.value.scope]]),e("span",q,[d(e("input",{"onUpdate:modelValue":l[3]||(l[3]=r=>n.value.rtl=r),type:"checkbox",placeholder:"RTL",label:"RTL",class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[T,n.value.rtl]]),l[6]||(l[6]=V(" RTL (Right to Left direction) "))])]),e("div",H,[(i(!0),c(M,null,U(u.value,(r,g)=>(i(),c("div",{key:g,class:"border rounded-lg p-4 bg-gray-50"},[e("h4",P,y(g)+".json",1),e("div",G,[(i(!0),c(M,null,U(r,(L,m)=>(i(),c("div",{key:m,class:"flex items-center gap-3"},[e("label",J,y(m),1),d(e("input",{"onUpdate:modelValue":a=>u.value[g][m]=a,type:"text",class:"w-2/3 form-input",placeholder:"Translation"},null,8,K),[[p,u.value[g][m]]])]))),128))])]))),128))]),e("div",O,[e("button",{onClick:l[4]||(l[4]=r=>b.$emit("close")),class:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-2 px-4 rounded-md"}," Cancel "),e("button",{onClick:k,class:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-4 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900"}," Save Language ")])])]))}},X=S(Q,[["__scopeId","data-v-6fdfee41"]]),Y={class:"p-6"},Z={class:"flex flex-col lg:flex-row gap-6 items-start"},ee={class:"w-full lg:w-1/4"},te={class:"bg-white rounded-xl shadow-lg w-full max-w-5xl max-h-[90vh] overflow-y-auto p-6 relative"},oe={class:"grid grid-cols-1 sm:grid-cols-1 gap-4 mb-6"},se={class:"text-sm text-gray-600"},ae={class:"w-full lg:w-3/4"},le={class:"bg-white shadow rounded-lg p-4 h-[600px] overflow-y-auto"},ne={class:"font-bold text-gray-800"},re={class:"text-sm text-gray-500"},de={class:"text-sm text-gray-500"},ie={class:"Lang-image"},ue=["src","alt"],ce={class:"flex gap-3 items-center"},pe={class:"relative"},ge=["onClick"],me={key:0,class:"absolute z-[100] mt-2 w-44 bg-white border rounded shadow left-1/2 transform -translate-x-1/2"},ve=["onClick","title"],fe=["onClick"],xe={__name:"LanguageManagement",setup(j){const h=x(!1),s=x({name:"",english_name:"",code:"",document:null,country_code:"",scope:"",rtl:!1}),n=x([]),u=async()=>{try{const a=await C.get("/api/get-languages");n.value=a.data.data}catch(a){console.error(a)}};N(u);const k=async()=>{console.log("Add Language");const a=new FormData;FormData.append("name",s.value.name),FormData.append("english_name",s.value.english_name),FormData.append("code",s.value.code),FormData.append("country_code",s.value.country_code),FormData.append("document",s.value.document),FormData.append("scope",s.value.scope),FormData.append("rtl",s.value.rtl?1:0);try{const t=await C.post("/language/create",a);alert(t.data.message),u()}catch(t){console.error(t)}},b=x({}),l=a=>{b.value[a]=!b.value[a]},r=a=>{a.enabled=!a.enabled},g=async a=>{if(confirm(`Are you sure you want to delete ${a.name}?`))try{const t=await C.delete(`/language/delete/${a.id}`);alert(t.data.message),u()}catch(t){console.error("Delete failed:",t)}},L=["https://flagcdn.com/w320/us.png","https://flagcdn.com/w320/fr.png","https://flagcdn.com/w320/de.png","https://flagcdn.com/w320/eg.png","https://flagcdn.com/w320/jp.png"],m=a=>{const t=Math.floor(Math.random()*L.length);a.target.src=L[t]};return(a,t)=>(i(),A(I,null,{default:_(()=>[e("div",Y,[t[18]||(t[18]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-6"},"Language Management",-1)),e("div",Z,[e("div",ee,[e("div",te,[t[11]||(t[11]=e("h3",{class:"text-xl font-bold text-gray-800 mb-6"},"Add New Language",-1)),e("div",oe,[d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.name=o),type:"text",placeholder:"Language Name",class:"form-input"},null,512),[[p,s.value.name]]),d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.english_name=o),type:"text",placeholder:"Language Name (in English)",class:"form-input"},null,512),[[p,s.value.english_name]]),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.code=o),type:"text",placeholder:"Code",class:"checkbox-form-input"},null,512),[[p,s.value.code]]),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.code=o),type:"text",placeholder:"Country Code",class:"checkbox-form-input"},null,512),[[p,s.value.code]]),e("input",{type:"file",class:"form-input",onChange:t[4]||(t[4]=o=>s.value.document=o.target.files[0])},null,32),d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.scope=o),class:"form-input"},t[9]||(t[9]=[e("option",{disabled:"",value:""},"Select App",-1),e("option",{value:"user"},"User App",-1),e("option",{value:"worker"},"Worker App",-1)]),512),[[R,s.value.scope]]),e("span",se,[d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.value.rtl=o),type:"checkbox",placeholder:"RTL",label:"RTL",class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[T,s.value.rtl]]),t[10]||(t[10]=V(" RTL (Right to Left direction) "))]),e("button",{onClick:k,class:"flex items-center rounded-md border border-transparent bg-gray-800 px-2 py-2 text-xs font-semibold uppercase tracking-widest text-white transition duration-150 ease-in-out hover:bg-gray-700 focus:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 active:bg-gray-900 align-center"}," + Add New Language ")])])]),e("div",ae,[e("div",le,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold mb-4"},"Languages",-1)),(i(!0),c(M,null,U(n.value,o=>(i(),c("div",{key:o.code,class:"border-b py-3 px-2 flex justify-between items-center"},[e("div",null,[e("div",ne,[V(y(o.name)+" ",1),e("span",re,"("+y(o.scope)+")",1)]),e("div",de,"Code: "+y(o.code),1)]),e("div",ie,[e("img",{src:`/images/flags/${o.code}.png`,alt:o.name,class:"w-8 h-6 object-cover",onError:t[7]||(t[7]=w=>m(w))},null,40,ue)]),e("div",ce,[e("div",pe,[e("button",{onClick:w=>l(o.code),title:"Edit",class:"text-blue-600 hover:text-blue-800"},[v(f(F),{icon:"mdi:pencil-outline",class:"w-5 h-5"})],8,ge),b.value[o.code]?(i(),c("div",me,[v(f($),{href:a.route("language-editor",o.code),class:"flex items-center px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"},{default:_(()=>t[12]||(t[12]=[e("div",{class:"flex items-center px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"}," Panel translation ",-1)])),_:2},1032,["href"]),t[15]||(t[15]=e("div",{class:"border-t my-1"},null,-1)),v(f($),{href:a.route("language-editor",o.code),class:"flex items-center px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"},{default:_(()=>t[13]||(t[13]=[e("div",{class:"flex items-center px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"}," Web translation ",-1)])),_:2},1032,["href"]),t[16]||(t[16]=e("div",{class:"border-t my-1"},null,-1)),v(f($),{href:a.route("language-editor",o.code),class:"flex items-center px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"},{default:_(()=>t[14]||(t[14]=[e("div",{class:"flex items-center px-4 py-2 text-sm hover:bg-gray-100 cursor-pointer"}," App translation ",-1)])),_:2},1032,["href"])])):D("",!0)]),e("button",{onClick:w=>r(o),title:o.enabled?"Disable":"Enable",class:E(o.enabled?"text-yellow-600 hover:text-yellow-800":"text-green-600 hover:text-green-800")},[v(f(F),{icon:o.enabled?"mdi:block-helper":"mdi:check-circle-outline",class:"w-5 h-5"},null,8,["icon"])],10,ve),e("button",{onClick:w=>g(o),title:"Delete",class:"text-red-600 hover:text-red-800"},[v(f(F),{icon:"mdi:trash-can-outline",class:"w-5 h-5"})],8,fe)])]))),128))])])]),h.value?(i(),A(X,{key:0,onClose:t[8]||(t[8]=o=>h.value=!1)})):D("",!0)])]),_:1}))}},we=S(xe,[["__scopeId","data-v-ba5b5315"]]);export{we as default};
