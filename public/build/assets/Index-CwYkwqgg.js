import{p as x,r as se,i as R,C as je,q as Pe,c as De,o as n,w as h,b as t,f as r,h as c,j as g,k as y,y as F,F as L,s as S,t as o,e as _,a as w,u as q,S as C,A as Ae,d as Ve,n as b,B as le}from"./app-CzdCp43o.js";import{_ as Ne}from"./AuthenticatedLayout-J4lJL3KR.js";import{M as Le}from"./MapPicker-BJclrK7O.js";import{U as A,b as Se,a as Ee}from"./units-B2h5rRQK.js";import{U as $e}from"./users-C0DL6arH.js";import{V as Ie}from"./vendors-tnzRe2NL.js";import{_ as Me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Re={class:"p-6 space-y-6"},Fe={class:"bg-white p-4 rounded-xl shadow-sm ring-1 ring-black/5"},Ge={class:"grid grid-cols-1 md:grid-cols-4 gap-3"},Oe={class:"bg-white rounded-xl shadow-sm ring-1 ring-black/5 overflow-x-auto"},ze={class:"min-w-full text-sm"},Be={key:0},Te={class:"px-4 py-2"},Ke={class:"px-4 py-2"},He={class:"font-medium text-gray-900"},Je={class:"text-gray-500",dir:"rtl"},Qe={class:"px-4 py-2"},We={class:"text-gray-900"},Xe={key:0,class:"text-xs text-gray-500"},Ye={class:"px-4 py-2"},Ze={class:"px-4 py-2"},et={class:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-xs border"},tt={class:"px-4 py-2"},st={class:"flex items-center gap-2 flex-nowrap whitespace-nowrap"},lt=["href"],at=["onClick"],nt=["onClick"],ot={key:1},rt={class:"flex items-center justify-between px-4 py-3 border-t"},it={class:"text-xs text-gray-500"},dt={class:"flex items-center gap-2"},ut=["disabled"],ct={class:"text-sm"},vt=["disabled"],mt={key:0,class:"fixed inset-0 z-50 modal-top"},pt={class:"relative mx-auto w-full max-w-5xl p-6 sm:p-8 h-full flex items-center justify-center"},gt={class:"bg-white rounded-2xl shadow-2xl w-full max-h-[90vh] overflow-y-auto transition-all"},xt={key:0,class:"p-5 text-sm text-gray-500"},ft={key:1,class:"p-6 space-y-6"},bt={class:"relative rounded-xl overflow-hidden shadow-md h-64 sm:h-72 md:h-80"},yt=["src"],_t={key:1,class:"absolute inset-0 flex items-center justify-center bg-gray-100 text-gray-400 text-sm"},ht={class:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-6 text-white"},wt={class:"text-2xl font-bold"},kt={key:0,class:"text-sm text-gray-200",dir:"rtl"},qt={class:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},Ct={class:"bg-gray-50 rounded-lg p-3"},Ut={class:"font-semibold text-gray-800"},jt={class:"bg-gray-50 rounded-lg p-3"},Pt={class:"font-semibold text-gray-800"},Dt={class:"bg-gray-50 rounded-lg p-3"},At={class:"font-semibold text-gray-800"},Vt={class:"bg-white border rounded-xl p-5 shadow-sm"},Nt={class:"text-sm text-gray-700 whitespace-pre-wrap mb-4"},Lt={class:"text-sm text-gray-700 whitespace-pre-wrap",dir:"rtl"},St={key:0,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2"},Et=["src"],$t={key:1,class:"text-sm text-gray-500"},It={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-3 pt-4 border-t"},Mt={class:"relative mx-auto w-full max-w-3xl p-4 sm:p-6 h-full flex items-center justify-center"},Rt={class:"bg-white rounded-2xl shadow-lg w-full max-h-[min(88vh,900px)] overflow-y-auto focus:outline-none"},Ft={class:"sticky top-0 z-10 bg-white border-b rounded-t-2xl"},Gt={class:"flex items-center justify-between px-5 py-3"},Ot={class:"text-lg font-bold"},zt={class:"px-5 py-4 space-y-4"},Bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Tt=["required"],Kt={key:0,class:"mt-1 text-xs text-red-600"},Ht=["required"],Jt={key:0,class:"mt-1 text-xs text-red-600"},Qt={class:"md:col-span-2"},Wt=["required"],Xt={key:0,class:"mt-1 text-xs text-red-600"},Yt={class:"md:col-span-2"},Zt=["required"],es={key:0,class:"mt-1 text-xs text-red-600"},ts={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ss={class:"md:col-span-2"},ls=["required"],as={key:0,class:"mt-1 text-xs text-red-600"},ns=["required"],os={key:0,class:"mt-1 text-xs text-red-600"},rs=["required"],is={key:0,class:"mt-1 text-xs text-red-600"},ds=["required"],us={key:0,class:"mt-1 text-xs text-red-600"},cs=["required"],vs={key:0,class:"mt-1 text-xs text-red-600"},ms={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ps=["required"],gs=["value"],xs={key:0,class:"mt-1 text-xs text-red-600"},fs=["required"],bs=["value"],ys={key:0,class:"mt-1 text-xs text-red-600"},_s={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hs={class:"block text-xs text-gray-500 mb-1"},ws=["required"],ks={key:0,class:"mt-1 text-xs text-red-600"},qs={key:1,class:"mt-2 relative inline-block"},Cs=["src"],Us=["required"],js={key:0,class:"mt-1 text-xs text-red-600"},Ps={key:1,class:"mt-2 flex flex-wrap gap-2"},Ds=["src"],As=["onClick"],Vs={key:2,class:"mt-2 flex flex-wrap gap-2"},Ns=["src"],Ls=["onClick"],Ss={key:0,class:"rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2"},Es={class:"sticky bottom-0 z-10 bg-white border-t rounded-b-2xl"},$s={class:"px-5 py-3 flex items-center gap-3"},Is=["disabled"],Ms={__name:"Index",setup(Rs){const J=x([]),G=x(!1),m=se({q:"",status:"",from:"",to:""}),U=x(1),V=x(10),E=R(()=>{let l=[...J.value];const e=m.q.trim().toLowerCase();return e&&(l=l.filter(s=>(s.name_en||"").toLowerCase().includes(e)||(s.name_ar||"").toLowerCase().includes(e)||(s.location||"").toLowerCase().includes(e))),m.status&&(l=l.filter(s=>s.status===m.status)),m.from&&(l=l.filter(s=>!s.start_date||s.start_date>=m.from)),m.to&&(l=l.filter(s=>!s.end_date||s.end_date<=m.to)),l.sort((s,i)=>{const D=Date.parse(s.created_at||s.createdAt||""),M=Date.parse(i.created_at||i.createdAt||"");return Number.isNaN(D)||Number.isNaN(M)?(i.id||0)-(s.id||0):M-D}),l}),B=R(()=>(U.value-1)*V.value),Q=R(()=>Math.min(B.value+V.value,E.value.length)),ae=R(()=>E.value.slice(B.value,Q.value));je([()=>m.q,()=>m.status,()=>m.from,()=>m.to,V],()=>{U.value=1});async function T(){G.value=!0;try{J.value=await A.list()}finally{G.value=!1}}const W=x(!1),K=se({loading:!1,data:null}),v=R(()=>K.data||{});function H(){W.value=!1,K.data=null}const O=x(!1),u=x(null),k=x({}),j=x(""),z=x(!1),a=x({name:{en:"",ar:""},description:{en:"",ar:""},location:"",lat:null,long:null,start_date:"",end_date:"",user_id:null,vendor_id:null,status:"under_construction",cover_image:null,gallery:[]}),P=x(null),$=x([]),N=x([]),X=x([]),Y=x([]),p=(l,e)=>{if(!e||Array.isArray(e)&&e.length===0){delete k.value[l];return}k.value[l]=Array.isArray(e)?e:[String(e)]},d=l=>{var e;return((e=k.value[l])==null?void 0:e[0])||""},ne=l=>!!k.value[l],f=l=>["form-input",ne(l)?"border-red-400 focus:ring-red-500":""].join(" ");function oe(l){return`/units-management/${l}/docs`}function re(l){return`/units-management/${l}/gallery`}function ie(l){return`/units-management/${l}/drawing`}function de(l){return`/units-management/${l}/reports`}function ue(l){return`/units-management/${l}/phases`}function ce(l){return`/units-management/${l}/timeline`}function ve(l){return`/units-management/${l}/contractors`}function me(l){return`/units-management/${l}/payments`}function pe(l){return`/units-management/${l}/details`}function Z(){const l=document.querySelector(".max-h-\\[min\\(88vh\\,900px\\)\\]"),e=l==null?void 0:l.querySelector("input.border-red-400, select.border-red-400, textarea.border-red-400");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}function ge(){k.value={},j.value="";const l=a.value,e=s=>s!=null&&String(s).trim()!=="";return u.value?(l.lat!==null&&(l.lat<-90||l.lat>90)&&p("lat","Latitude must be between -90 and 90"),l.long!==null&&(l.long<-180||l.long>180)&&p("long","Longitude must be between -180 and 180"),e(l.start_date)&&e(l.end_date)&&new Date(l.end_date)<new Date(l.start_date)&&p("end_date","End date must be after or equal to start date")):(e(l.name.en)||p("name.en","Name (EN) is required"),e(l.name.ar)||p("name.ar","Name (AR) is required"),e(l.description.en)||p("description.en","Description (EN) is required"),e(l.description.ar)||p("description.ar","Description (AR) is required"),e(l.location)||p("location","Location is required"),typeof l.lat=="number"&&l.lat>=-90&&l.lat<=90||p("lat","Latitude must be between -90 and 90"),typeof l.long=="number"&&l.long>=-180&&l.long<=180||p("long","Longitude must be between -180 and 180"),e(l.start_date)||p("start_date","Start date is required"),e(l.end_date)||p("end_date","End date is required"),e(l.start_date)&&e(l.end_date)&&new Date(l.end_date)<new Date(l.start_date)&&p("end_date","End date must be after or equal to start date"),e(l.user_id)||p("user_id","User is required"),e(l.vendor_id)||p("vendor_id","Vendor is required"),l.cover_image||p("cover_image","Cover image is required"),(!Array.isArray(l.gallery)||l.gallery.length===0)&&p("gallery","Add at least one gallery image")),Object.keys(k.value).length?(j.value="Please fix the highlighted fields.",!1):!0}function xe(){ee(),O.value=!0}async function fe(l){ee(),u.value=l.id;const e=await A.show(l.id);a.value.name.en=e.name_en||"",a.value.name.ar=e.name_ar||"",a.value.description.en=e.description_en||"",a.value.description.ar=e.description_ar||"",a.value.location=e.location||"",a.value.lat=e.lat,a.value.long=e.long,a.value.start_date=e.start_date||"",a.value.end_date=e.end_date||"",a.value.user_id=e.user_id??null,a.value.vendor_id=e.vendor_id??null,a.value.status=e.status||"under_construction",P.value=e.cover_image_url||null,N.value=Array.isArray(e.gallery)?e.gallery:[],O.value=!0}function ee(){a.value={name:{en:"",ar:""},description:{en:"",ar:""},location:"",lat:null,long:null,start_date:"",end_date:"",user_id:null,vendor_id:null,status:"under_construction",cover_image:null,gallery:[]},P.value=null,$.value=[],N.value=[],k.value={},j.value="",u.value=null}function I(){O.value=!1}function be(l){var s;const e=((s=l.target.files)==null?void 0:s[0])||null;a.value.cover_image=e,P.value=e?URL.createObjectURL(e):P.value}function ye(l){const e=Array.from(l.target.files||[]);a.value.gallery=e,$.value=e.map(s=>URL.createObjectURL(s))}async function _e(){confirm("Delete cover image?")&&(await A.deleteCover(u.value),P.value=null)}async function he(l){confirm("Delete this image?")&&(await A.deleteGalleryImage(u.value,l),N.value=N.value.filter(e=>e.id!==l))}function we(l){var s,i,D,M;const e=(i=(s=l==null?void 0:l.response)==null?void 0:s.data)==null?void 0:i.errors;if(!e)return!1;k.value={};for(const[Ce,Ue]of Object.entries(e))p(Ce,Ue);return j.value=((M=(D=l==null?void 0:l.response)==null?void 0:D.data)==null?void 0:M.message)||"Validation failed. Please review the fields below.",!0}async function te(){var l,e,s;z.value=!0;try{if(!ge()){await le(),Z();return}if(u.value){const i=Se(a.value);await A.update(u.value,i)}else{const i=Ee(a.value);await A.create(i)}await T(),I()}catch(i){((l=i==null?void 0:i.response)==null?void 0:l.status)===422&&we(i)?(await le(),Z()):j.value=((s=(e=i==null?void 0:i.response)==null?void 0:e.data)==null?void 0:s.message)||(i==null?void 0:i.message)||"Request failed"}finally{z.value=!1}}async function ke(l){confirm(`Delete unit #${l.id}?`)&&(await A.remove(l.id),await T())}async function qe(){const l=await $e.list();X.value=l.map(s=>({id:s.id,name:s.name,email:s.email}));const e=await Ie.list();Y.value=e.map(s=>({id:s.id,name:s.name,email:s.email}))}return Pe(async()=>{await Promise.all([T(),qe()])}),(l,e)=>(n(),De(Ne,null,{default:h(()=>[t("div",Re,[t("div",{class:"flex items-center justify-between"},[e[22]||(e[22]=t("h2",{class:"text-2xl font-bold text-dash-title"},"Projects",-1)),t("button",{onClick:xe,class:"bg-black text-white px-3 py-2 rounded hover:bg-gray-700"}," + Add Project ")]),t("div",Fe,[t("div",Ge,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.q=s),type:"text",placeholder:"Search by name or locationâ€¦",class:"form-input"},null,512),[[y,m.q,void 0,{trim:!0}]]),g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>m.status=s),class:"form-input"},e[23]||(e[23]=[t("option",{value:""},"All statuses",-1),t("option",{value:"under_construction"},"under_construction",-1),t("option",{value:"completed"},"completed",-1)]),512),[[F,m.status]]),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>m.from=s),type:"date",class:"form-input"},null,512),[[y,m.from]]),g(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>m.to=s),type:"date",class:"form-input"},null,512),[[y,m.to]])])]),t("div",Oe,[t("table",ze,[e[26]||(e[26]=t("thead",{class:"bg-gray-50 text-gray-600"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"ID"),t("th",{class:"px-4 py-2 text-left"},"Name (EN / AR)"),t("th",{class:"px-4 py-2 text-left"},"Location"),t("th",{class:"px-4 py-2 text-left"},"Period"),t("th",{class:"px-4 py-2 text-left"},"Status"),t("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),t("tbody",null,[G.value?(n(),r("tr",Be,e[24]||(e[24]=[t("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500"},"Loadingâ€¦",-1)]))):c("",!0),(n(!0),r(L,null,S(ae.value,s=>(n(),r("tr",{key:s.id,class:"border-t"},[t("td",Te,"#"+o(s.id),1),t("td",Ke,[t("div",He,o(s.name_en||"â€”"),1),t("div",Je,o(s.name_ar),1)]),t("td",Qe,[t("div",We,o(s.location||"â€”"),1),s.lat&&s.long?(n(),r("div",Xe,"("+o(s.lat)+", "+o(s.long)+")",1)):c("",!0)]),t("td",Ye,[t("div",null,o(s.start_date||"â€”")+" â†’ "+o(s.end_date||"â€”"),1)]),t("td",Ze,[t("span",et,o(s.status||"â€”"),1)]),t("td",tt,[t("div",st,[t("a",{href:pe(s.id),target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center h-9 px-3 text-xs font-medium border rounded-md hover:bg-gray-50"}," Details ",8,lt),t("button",{class:"inline-flex items-center justify-center h-9 px-3 text-xs font-medium border rounded-md hover:bg-gray-50",onClick:i=>fe(s)}," Edit ",8,at),t("button",{class:"inline-flex items-center justify-center h-9 px-3 text-xs font-medium border rounded-md text-red-600 hover:bg-red-50",onClick:i=>ke(s)}," Delete ",8,nt)])])]))),128)),!G.value&&!E.value.length?(n(),r("tr",ot,e[25]||(e[25]=[t("td",{colspan:"6",class:"px-4 py-8 text-center text-gray-500"},"No Projects found.",-1)]))):c("",!0)])]),t("div",rt,[t("div",it,[e[27]||(e[27]=_(" Showing ")),t("strong",null,o(B.value+1),1),e[28]||(e[28]=_("â€“")),t("strong",null,o(Q.value),1),e[29]||(e[29]=_(" of ")),t("strong",null,o(E.value.length),1)]),t("div",dt,[t("button",{class:"px-3 py-1.5 border rounded disabled:opacity-50",disabled:U.value===1,onClick:e[4]||(e[4]=s=>U.value--)}," Prev ",8,ut),t("span",ct,"Page "+o(U.value),1),t("button",{class:"px-3 py-1.5 border rounded disabled:opacity-50",disabled:U.value*V.value>=E.value.length,onClick:e[5]||(e[5]=s=>U.value++)}," Next ",8,vt),g(t("select",{"onUpdate:modelValue":e[6]||(e[6]=s=>V.value=s),class:"form-input w-24"},e[30]||(e[30]=[t("option",{value:10},"10",-1),t("option",{value:20},"20",-1),t("option",{value:50},"50",-1)]),512),[[F,V.value,void 0,{number:!0}]])])])]),W.value?(n(),r("div",mt,[t("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:H}),t("div",pt,[t("div",gt,[t("div",{class:"sticky top-0 bg-gradient-to-r from-yellow-50 to-yellow-100 border-b px-6 py-4 rounded-t-2xl flex items-center justify-between"},[e[31]||(e[31]=t("h3",{class:"text-xl font-bold text-gray-800 flex items-center gap-2"}," Project Details ",-1)),t("button",{onClick:H,class:"text-gray-500 hover:text-gray-800 hover:bg-gray-100 rounded-full p-2"}," âœ• ")]),K.loading?(n(),r("div",xt,"Loadingâ€¦")):(n(),r("div",ft,[t("div",bt,[v.value.cover_image_url?(n(),r("img",{key:0,src:v.value.cover_image_url,alt:"Project Cover",class:"absolute inset-0 w-full h-full object-cover"},null,8,yt)):(n(),r("div",_t," No Cover Image ")),t("div",ht,[t("div",wt,o(v.value.name_en||"Unnamed Project"),1),v.value.name_ar?(n(),r("div",kt,o(v.value.name_ar),1)):c("",!0)])]),t("div",qt,[t("div",Ct,[e[32]||(e[32]=t("span",{class:"block text-gray-400 text-xs uppercase"},"Status",-1)),t("span",Ut,o(v.value.status||"â€”"),1)]),t("div",jt,[e[33]||(e[33]=t("span",{class:"block text-gray-400 text-xs uppercase"},"Location",-1)),t("span",Pt,o(v.value.location||"â€”"),1)]),t("div",Dt,[e[34]||(e[34]=t("span",{class:"block text-gray-400 text-xs uppercase"},"Duration",-1)),t("span",At,o(v.value.start_date||"â€”")+" â†’ "+o(v.value.end_date||"â€”"),1)])]),t("div",Vt,[e[35]||(e[35]=t("div",{class:"mb-2 text-gray-700 font-semibold text-base"},"Description (EN)",-1)),t("p",Nt,o(v.value.description_en||"â€”"),1),e[36]||(e[36]=t("div",{class:"mb-2 text-gray-700 font-semibold text-base"},"Description (AR)",-1)),t("p",Lt,o(v.value.description_ar||"â€”"),1)]),t("div",null,[e[37]||(e[37]=t("div",{class:"text-gray-800 font-semibold mb-3"},"Gallery",-1)),v.value.gallery&&v.value.gallery.length?(n(),r("div",St,[(n(!0),r(L,null,S(v.value.gallery,s=>(n(),r("div",{key:s.id,class:"aspect-[4/3] rounded-lg overflow-hidden bg-gray-100 border hover:shadow-md transition"},[t("img",{src:s.image_url,class:"w-full h-full object-cover"},null,8,Et)]))),128))])):(n(),r("div",$t,"No images available."))]),t("div",It,[w(q(C),{href:oe(v.value.id),class:"nav-btn"},{default:h(()=>e[38]||(e[38]=[_(" ðŸ“„ Docs ")])),_:1},8,["href"]),w(q(C),{href:re(v.value.id),class:"nav-btn"},{default:h(()=>e[39]||(e[39]=[_(" ðŸ–¼ï¸ Gallery ")])),_:1},8,["href"]),w(q(C),{href:ie(v.value.id),class:"nav-btn"},{default:h(()=>e[40]||(e[40]=[_(" âœï¸ Drawings ")])),_:1},8,["href"]),w(q(C),{href:de(v.value.id),class:"nav-btn"},{default:h(()=>e[41]||(e[41]=[_(" ðŸ“Š Reports ")])),_:1},8,["href"]),w(q(C),{href:ue(v.value.id),class:"nav-btn"},{default:h(()=>e[42]||(e[42]=[_(" ðŸ§© Phases ")])),_:1},8,["href"]),w(q(C),{href:ce(v.value.id),class:"nav-btn"},{default:h(()=>e[43]||(e[43]=[_(" ðŸ•’ Timeline ")])),_:1},8,["href"]),w(q(C),{href:ve(v.value.id),class:"nav-btn"},{default:h(()=>e[44]||(e[44]=[_(" ðŸ‘· Assignments ")])),_:1},8,["href"]),w(q(C),{href:me(v.value.id),class:"nav-btn"},{default:h(()=>e[45]||(e[45]=[_(" ðŸ’° Payments & Installment ")])),_:1},8,["href"])]),t("div",{class:"sticky bottom-0 bg-white border-t pt-3 text-right"},[t("button",{onClick:H,class:"px-4 py-2 border rounded-lg hover:bg-gray-100 text-gray-700"}," Close ")])]))])])])):c("",!0),O.value?(n(),r("div",{key:1,class:"fixed inset-0 z-50",onKeydown:Ae(I,["esc"])},[t("div",{class:"absolute inset-0 bg-black/40 back-drop",onClick:I,"aria-hidden":"true"}),t("div",Mt,[t("div",Rt,[t("div",Ft,[t("div",Gt,[t("h3",Ot,o(u.value?"Edit Project":"Add Project"),1),t("button",{onClick:I,class:"text-gray-400 hover:text-gray-600","aria-label":"Close"},"âœ•")])]),t("div",zt,[t("form",{onSubmit:Ve(te,["prevent"]),class:"space-y-4"},[t("div",Bt,[t("div",null,[e[46]||(e[46]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Name (EN)*",-1)),g(t("input",{class:b(f("name.en")),"onUpdate:modelValue":e[7]||(e[7]=s=>a.value.name.en=s),type:"text",required:!u.value},null,10,Tt),[[y,a.value.name.en]]),d("name.en")?(n(),r("p",Kt,o(d("name.en")),1)):c("",!0)]),t("div",null,[e[47]||(e[47]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Name (AR)*",-1)),g(t("input",{class:b(f("name.ar")),"onUpdate:modelValue":e[8]||(e[8]=s=>a.value.name.ar=s),type:"text",required:!u.value},null,10,Ht),[[y,a.value.name.ar]]),d("name.ar")?(n(),r("p",Jt,o(d("name.ar")),1)):c("",!0)]),t("div",Qt,[e[48]||(e[48]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Description (EN)*",-1)),g(t("textarea",{class:b(f("description.en")),"onUpdate:modelValue":e[9]||(e[9]=s=>a.value.description.en=s),required:!u.value},null,10,Wt),[[y,a.value.description.en]]),d("description.en")?(n(),r("p",Xt,o(d("description.en")),1)):c("",!0)]),t("div",Yt,[e[49]||(e[49]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Description (AR)*",-1)),g(t("textarea",{class:b(f("description.ar")),"onUpdate:modelValue":e[10]||(e[10]=s=>a.value.description.ar=s),required:!u.value},null,10,Zt),[[y,a.value.description.ar]]),d("description.ar")?(n(),r("p",es,o(d("description.ar")),1)):c("",!0)])]),t("div",ts,[t("div",ss,[w(Le,{label:"Pick on map",lat:a.value.lat,"onUpdate:lat":e[11]||(e[11]=s=>a.value.lat=s),lng:a.value.long,"onUpdate:lng":e[12]||(e[12]=s=>a.value.long=s),address:a.value.location,"onUpdate:address":e[13]||(e[13]=s=>a.value.location=s)},null,8,["lat","lng","address"])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Location*",-1)),g(t("input",{class:b(f("location")),"onUpdate:modelValue":e[14]||(e[14]=s=>a.value.location=s),type:"text",required:!u.value,disabled:""},null,10,ls),[[y,a.value.location]]),d("location")?(n(),r("p",as,o(d("location")),1)):c("",!0)]),t("div",null,[e[51]||(e[51]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Latitude (-90..90)*",-1)),g(t("input",{class:b(f("lat")),"onUpdate:modelValue":e[15]||(e[15]=s=>a.value.lat=s),type:"number",step:"any",min:"-90",max:"90",required:!u.value,disabled:""},null,10,ns),[[y,a.value.lat,void 0,{number:!0}]]),d("lat")?(n(),r("p",os,o(d("lat")),1)):c("",!0)]),t("div",null,[e[52]||(e[52]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Longitude (-180..180)*",-1)),g(t("input",{class:b(f("long")),"onUpdate:modelValue":e[16]||(e[16]=s=>a.value.long=s),type:"number",step:"any",min:"-180",max:"180",required:!u.value,disabled:""},null,10,rs),[[y,a.value.long,void 0,{number:!0}]]),d("long")?(n(),r("p",is,o(d("long")),1)):c("",!0)]),t("div",null,[e[53]||(e[53]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Start Date*",-1)),g(t("input",{class:b(f("start_date")),"onUpdate:modelValue":e[17]||(e[17]=s=>a.value.start_date=s),type:"date",required:!u.value},null,10,ds),[[y,a.value.start_date]]),d("start_date")?(n(),r("p",us,o(d("start_date")),1)):c("",!0)]),t("div",null,[e[54]||(e[54]=t("label",{class:"block text-xs text-gray-500 mb-1"},"End Date*",-1)),g(t("input",{class:b(f("end_date")),"onUpdate:modelValue":e[18]||(e[18]=s=>a.value.end_date=s),type:"date",required:!u.value},null,10,cs),[[y,a.value.end_date]]),d("end_date")?(n(),r("p",vs,o(d("end_date")),1)):c("",!0)])]),t("div",ms,[t("div",null,[e[56]||(e[56]=t("label",{class:"block text-xs text-gray-500 mb-1"},"User *",-1)),g(t("select",{class:b(f("user_id")),"onUpdate:modelValue":e[19]||(e[19]=s=>a.value.user_id=s),required:!u.value},[e[55]||(e[55]=t("option",{value:"",disabled:""},"Select a user",-1)),(n(!0),r(L,null,S(X.value,s=>(n(),r("option",{key:s.id,value:s.id},o(s.name)+" â€” "+o(s.email),9,gs))),128))],10,ps),[[F,a.value.user_id,void 0,{number:!0}]]),d("user_id")?(n(),r("p",xs,o(d("user_id")),1)):c("",!0)]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Project Manager *",-1)),g(t("select",{class:b(f("vendor_id")),"onUpdate:modelValue":e[20]||(e[20]=s=>a.value.vendor_id=s),required:!u.value},[e[57]||(e[57]=t("option",{value:"",disabled:""},"Select a Project Manager",-1)),(n(!0),r(L,null,S(Y.value,s=>(n(),r("option",{key:s.id,value:s.id},o(s.name)+" â€” "+o(s.email),9,bs))),128))],10,fs),[[F,a.value.vendor_id,void 0,{number:!0}]]),d("vendor_id")?(n(),r("p",ys,o(d("vendor_id")),1)):c("",!0)]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Status",-1)),g(t("select",{class:"form-input","onUpdate:modelValue":e[21]||(e[21]=s=>a.value.status=s)},e[59]||(e[59]=[t("option",{value:"under_construction",selected:""},"under_construction",-1),t("option",{value:"completed"},"completed",-1)]),512),[[F,a.value.status]])])]),t("div",_s,[t("div",null,[t("label",hs," Cover Image* "+o(u.value?"(optional to replace)":""),1),t("input",{class:b(f("cover_image")),type:"file",accept:"image/*",onChange:be,required:!u.value},null,42,ws),d("cover_image")?(n(),r("p",ks,o(d("cover_image")),1)):c("",!0),P.value?(n(),r("div",qs,[t("img",{src:P.value,class:"w-40 h-28 object-cover rounded border"},null,8,Cs),t("button",{type:"button",class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow hover:bg-red-600",onClick:_e}," âœ• ")])):c("",!0)]),t("div",null,[e[61]||(e[61]=t("label",{class:"block text-xs text-gray-500 mb-1"},"Gallery* (multiple on create)",-1)),t("input",{class:b(f("gallery")),type:"file",accept:"image/*",multiple:"",onChange:ye,required:!u.value},null,42,Us),d("gallery")?(n(),r("p",js,o(d("gallery")),1)):c("",!0),N.value.length?(n(),r("div",Ps,[(n(!0),r(L,null,S(N.value,s=>(n(),r("div",{key:s.id,class:"relative inline-block"},[t("img",{src:s.image_url,class:"w-24 h-16 object-cover rounded border"},null,8,Ds),t("button",{type:"button",class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center shadow hover:bg-red-600",onClick:i=>he(s.id)}," âœ• ",8,As)]))),128))])):c("",!0),$.value.length?(n(),r("div",Vs,[(n(!0),r(L,null,S($.value,(s,i)=>(n(),r("div",{key:i,class:"relative inline-block"},[t("img",{src:s,class:"w-24 h-16 object-cover rounded border"},null,8,Ns),t("button",{type:"button",class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center shadow hover:bg-red-600",onClick:D=>$.value.splice(i,1)}," âœ• ",8,Ls)]))),128))])):c("",!0)])]),j.value?(n(),r("div",Ss,o(j.value),1)):c("",!0)],32)]),t("div",Es,[t("div",$s,[t("button",{disabled:z.value,class:"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-60",onClick:te},o(z.value?"Savingâ€¦":u.value?"Update":"Create"),9,Is),t("button",{type:"button",class:"px-3 py-2 border rounded",onClick:I},"Cancel")])])])])],32)):c("",!0)])]),_:1}))}},Hs=Me(Ms,[["__scopeId","data-v-bf8523c0"]]);export{Hs as default};
