import{m as t}from"./app-Duxcg2QP.js";function f(a){try{return typeof a=="string"?JSON.parse(a):a}catch{return a}}function u(a){var e;return Array.isArray(a)?a:Array.isArray(a==null?void 0:a.data)?a.data:Array.isArray(a==null?void 0:a.message)?a.message:Array.isArray((e=a==null?void 0:a.data)==null?void 0:e.data)?a.data.data:[]}function m(a){return a?`/storage/${a}`:""}function c(a={}){const e=f(a.title)||{},n=f(a.description)||{};return{id:a.id,email:a.email||"",image:a.image||"",image_url:m(a.image),title_en:e.en||"",title_ar:e.ar||"",description_en:n.en||"",description_ar:n.ar||"",company_phone:a.company_phone||"",representative_phone:a.representative_phone||"",company_address:a.company_address||{en:"",ar:""},representative_name:a.representative_name||{en:"",ar:""},created_at:a.created_at,updated_at:a.updated_at}}const y={list:async()=>{const{data:a}=await t.get("/api/contractors");return u(a).map(c)},show:async a=>{const{data:e}=await t.get(`/api/contractors/show/${a}`),n=(e==null?void 0:e.data)??e;return c(n)},edit:async a=>{const{data:e}=await t.get(`/api/contractors/edit/${a}`),n=(e==null?void 0:e.data)??e;return c(n)},create:async a=>{const{data:e}=await t.post("/api/contractors/create",a,{headers:{"Content-Type":"multipart/form-data"}});return e},update:async(a,e)=>{const{data:n}=await t.post(`/api/contractors/update/${a}`,e,{headers:{"Content-Type":"multipart/form-data"}});return n},remove:async a=>{const{data:e}=await t.delete(`/api/contractors/delete/${a}`);return e}};function v(a=[]){const e=new FormData;return a.forEach((n,r)=>{var p,s,d,i;e.append(`data[${r}][email]`,n.email),e.append(`data[${r}][title][en]`,n.title.en),e.append(`data[${r}][title][ar]`,n.title.ar),e.append(`data[${r}][description][en]`,n.description.en),e.append(`data[${r}][description][ar]`,n.description.ar),n.company_phone&&e.append(`data[${r}][company_phone]`,n.company_phone),n.representative_phone&&e.append(`data[${r}][representative_phone]`,n.representative_phone),(p=n.company_address)!=null&&p.en&&e.append(`data[${r}][company_address][en]`,n.company_address.en),(s=n.company_address)!=null&&s.ar&&e.append(`data[${r}][company_address][ar]`,n.company_address.ar),(d=n.representative_name)!=null&&d.en&&e.append(`data[${r}][representative_name][en]`,n.representative_name.en),(i=n.representative_name)!=null&&i.ar&&e.append(`data[${r}][representative_name][ar]`,n.representative_name.ar),n.image&&e.append(`data[${r}][image]`,n.image)}),e}function g(a={}){var n,r,p,s,d,i,o,_;const e=new FormData;return a.email&&e.append("data[email]",a.email),(n=a.title)!=null&&n.en&&e.append("data[title][en]",a.title.en),(r=a.title)!=null&&r.ar&&e.append("data[title][ar]",a.title.ar),(p=a.description)!=null&&p.en&&e.append("data[description][en]",a.description.en),(s=a.description)!=null&&s.ar&&e.append("data[description][ar]",a.description.ar),a.company_phone&&e.append("data[company_phone]",a.company_phone),a.representative_phone&&e.append("data[representative_phone]",a.representative_phone),(d=a.company_address)!=null&&d.en&&e.append("data[company_address][en]",a.company_address.en),(i=a.company_address)!=null&&i.ar&&e.append("data[company_address][ar]",a.company_address.ar),(o=a.representative_name)!=null&&o.en&&e.append("data[representative_name][en]",a.representative_name.en),(_=a.representative_name)!=null&&_.ar&&e.append("data[representative_name][ar]",a.representative_name.ar),a.image&&e.append("data[image]",a.image),e}export{y as C,v as a,g as b};
