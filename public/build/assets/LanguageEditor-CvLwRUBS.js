import{l as r,i as b,p as x,z as w,c as k,o as l,w as S,b as a,f as i,t as p,F as L,q as T,j as $,s as j}from"./app-DTO5XkGm.js";import{_ as B}from"./AuthenticatedLayout-LD7zgTOt.js";import{h as f}from"./http-Ck6fBTQ9.js";const E={class:"p-6 space-y-6"},F={key:0,class:"p-3 bg-red-50 text-red-600 rounded"},V={key:1,class:"text-sm text-gray-500"},q={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},O={class:"block text-sm font-medium text-gray-600 mb-1"},C=["onUpdate:modelValue"],D={class:"text-right pt-4"},M=["disabled"],A={__name:"LanguageEditor",props:{id:{type:[Number,String],required:!0},type:{type:String,required:!0}},setup(y){const t=y,o=r({}),d=r(!1),u=r(!1),c=r(""),g=r(!1),m=b(()=>Object.keys(o.value??{}));async function v(){var n;if(!g.value){g.value=!0,d.value=!0,c.value="";try{const{data:e}=await f.get(`/api/language/languageedit/${t.id}/${t.type}`),s=((n=e==null?void 0:e.data)==null?void 0:n.enLabels)||{};o.value={...s}}catch(e){console.error(e),c.value="Failed to load language data."}finally{d.value=!1}}}async function _(){u.value=!0;try{await f.post(`/api/language/updatelanguageValues/${t.id}/${t.type}`,{values:Object.values(o.value)}),alert("Translations updated")}catch(n){console.error(n),alert("Save failed")}finally{u.value=!1}}return x(v),w(()=>[t.id,t.type],()=>{g.value=!1,v()}),(n,e)=>(l(),k(B,null,{default:S(()=>[a("div",E,[e[0]||(e[0]=a("div",{class:"flex justify-between items-center"},[a("h2",{class:"text-2xl font-semibold text-gray-800"},"Translate Language File")],-1)),c.value?(l(),i("div",F,p(c.value),1)):d.value?(l(),i("div",V,"Loading…")):(l(),i("div",q,[(l(!0),i(L,null,T(m.value,s=>(l(),i("div",{key:s},[a("label",O,p(s),1),$(a("input",{"onUpdate:modelValue":h=>o.value[s]=h,type:"text",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter translation"},null,8,C),[[j,o.value[s]]])]))),128))])),a("div",D,[a("button",{disabled:u.value||d.value,onClick:_,class:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 disabled:opacity-50"},p(u.value?"Saving…":"Save"),9,M)])])]),_:1}))}};export{A as default};
