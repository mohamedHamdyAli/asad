import{i as _,j as V,v as B,f as w,o as m,x as P,r as C,c as v,w as f,a as o,h as g,b as l,u as r,g as E,t as b,d as S,S as $,e as x,n as q}from"./app-CdqcvLGQ.js";import{_ as N}from"./GuestLayout-D-XUZLx2.js";import{_ as h,a as y,b as k}from"./TextInput-BuRItdmE.js";import{P as U}from"./PrimaryButton-qMzvRvYV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L=["value"],M={__name:"Checkbox",props:{checked:{type:[Array,Boolean],required:!0},value:{default:null}},emits:["update:checked"],setup(i,{emit:e}){const s=e,p=i,d=_({get(){return p.checked},set(u){s("update:checked",u)}});return(u,c)=>V((m(),w("input",{type:"checkbox",value:i.value,"onUpdate:modelValue":c[0]||(c[0]=t=>d.value=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"},null,8,L)),[[B,d.value]])}},R={key:0,class:"mb-4 text-sm font-medium text-green-600"},j={key:1,class:"mb-4 rounded-md border border-red-300 bg-red-50 px-3 py-2 text-sm text-red-700"},A={class:"mt-4"},D={class:"mt-4 block"},F={class:"flex items-center"},z={class:"mt-4 flex items-center justify-end"},K={__name:"Login",props:{canResetPassword:Boolean,status:String},setup(i){const e=P({email:"",password:"",remember:!1}),s=C({email:"",password:"",general:""});function p(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function d(){return s.email="",s.password="",s.general="",e.email?p(e.email)||(s.email="Please enter a valid email address."):s.email="Email is required.",e.password?e.password.length<8&&(s.password="Password must be at least 8 characters."):s.password="Password is required.",!s.email&&!s.password}const u=_(()=>{const t=e.errors.email||e.errors.password||"";return typeof t=="string"&&/credentials|match/i.test(t)}),c=()=>{e.clearErrors(),s.general="",d()&&e.post(route("login"),{preserveScroll:!0,onError:()=>{const t=e.errors.email||e.errors.password;t&&(s.general=t)},onFinish:()=>e.reset("password"),headers:{Accept:"text/html, application/xhtml+xml"}})};return(t,a)=>(m(),v(N,null,{default:f(()=>[o(r(E),{title:"Log in"}),i.status?(m(),w("div",R,b(i.status),1)):g("",!0),s.general||u.value?(m(),w("div",j,b(s.general||r(e).errors.email||r(e).errors.password),1)):g("",!0),l("form",{onSubmit:S(c,["prevent"]),novalidate:""},[l("div",null,[o(h,{for:"email",value:"Email"}),o(y,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:r(e).email,"onUpdate:modelValue":a[0]||(a[0]=n=>r(e).email=n),required:"",autocomplete:"username",onBlur:d,"aria-invalid":!!(s.email||r(e).errors.email),"aria-describedby":"email-error"},null,8,["modelValue","aria-invalid"]),o(k,{id:"email-error",class:"mt-2",message:s.email||r(e).errors.email},null,8,["message"])]),l("div",A,[o(h,{for:"password",value:"Password"}),o(y,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:r(e).password,"onUpdate:modelValue":a[1]||(a[1]=n=>r(e).password=n),required:"",autocomplete:"current-password",minlength:"8",onBlur:d,"aria-invalid":!!(s.password||r(e).errors.password),"aria-describedby":"password-error"},null,8,["modelValue","aria-invalid"]),o(k,{id:"password-error",class:"mt-2",message:s.password||r(e).errors.password},null,8,["message"])]),l("div",D,[l("label",F,[o(M,{name:"remember",checked:r(e).remember,"onUpdate:checked":a[2]||(a[2]=n=>r(e).remember=n)},null,8,["checked"]),a[3]||(a[3]=l("span",{class:"ms-2 text-sm text-gray-600"},"Remember me",-1))])]),l("div",z,[i.canResetPassword?(m(),v(r($),{key:0,href:t.route("password.request"),class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:f(()=>a[4]||(a[4]=[x(" Forgot your password? ")])),_:1},8,["href"])):g("",!0),o(U,{class:q(["ms-4",{"opacity-25":r(e).processing}]),disabled:r(e).processing},{default:f(()=>a[5]||(a[5]=[x(" Log in ")])),_:1},8,["class","disabled"])])],32)]),_:1}))}};export{K as default};
