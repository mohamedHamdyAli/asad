import{p as g,r as w,f as a,o as r,a as f,u as S,g as j,w as E,b as n,h as i,j as c,y as L,t as u,k as m,F,m as C}from"./app-KlDn5v0D.js";import{_ as O}from"./AuthenticatedLayout-CIKrmh8G.js";import{M as P}from"./MapPicker-CDZxPfVP.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"p-6 space-y-6 max-w-4xl"},q={key:0,class:"text-sm text-gray-500"},D={key:1,class:"bg-white p-6 rounded-2xl shadow-sm border space-y-6"},I={key:0,class:"text-red-600 text-xs"},K={key:0,class:"text-red-600 text-xs"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={key:0,class:"text-red-600 text-xs"},H={key:0,class:"text-red-600 text-xs"},J={key:0,class:"text-red-600 text-xs"},Q={key:0,class:"text-red-600 text-xs"},R={key:0,class:"text-red-600 text-xs"},W={class:"space-y-2"},X={class:"grid grid-cols-2 gap-3"},Y=["value"],Z=["value"],h={key:0,class:"text-red-600 text-xs"},tt={class:"flex justify-end"},et=["disabled"],nt={key:0,class:"p-3 bg-green-100 text-green-700 border rounded"},ot={key:1,class:"p-3 bg-red-100 text-red-700 border rounded"},st={__name:"ContactUsPage",setup(lt){const U=g(!1),x=g(!1),b=g(""),p=g(""),y=w({}),o=w({country:"",telephone:"",account_name:"",bank_name:"",iban:"",currency:"",swift_code:"",location:"",lat:"",long:""});async function B(){var l;if(k(),$(),!!o.country)try{const{data:t}=await C.get(`/api/contact-infos?country=${o.country}`),e=((l=t.data)==null?void 0:l.find(N=>{var _;return((_=N.country)==null?void 0:_.toLowerCase())===o.country.toLowerCase()}))||null;if(!e){v(),o.country=o.country,p.value="No contact info found for this country.";return}Object.assign(o,{country:o.country,telephone:e.telephone,account_name:e.account_name,bank_name:e.bank_name,iban:e.iban,currency:e.currency,swift_code:e.swift_code,location:e.location,lat:e.lat,long:e.long})}catch(t){console.error(t),v(),o.country=o.country}}function d(l){o[l]?delete y[l]:y[l]=`${l.replace("_"," ")} is required`}function V(){return["country","telephone","account_name","bank_name","iban","currency","swift_code","location"].forEach(d),Object.keys(y).length===0}async function M(){var l,t;if(k(),!V()){p.value="Please fill in all required fields.";return}x.value=!0;try{await C.post("/api/contact-infos/update",o),b.value="Saved successfully!"}catch(e){p.value=((t=(l=e==null?void 0:e.response)==null?void 0:l.data)==null?void 0:t.message)||"Save failed. Try again."}finally{x.value=!1}}function v(){Object.assign(o,{telephone:"",account_name:"",bank_name:"",iban:"",currency:"",swift_code:"",location:"",lat:"",long:""})}function k(){b.value="",p.value=""}function $(){Object.keys(y).forEach(l=>delete y[l])}function s(l){return y[l]||""}return(l,t)=>(r(),a(F,null,[f(S(j),{title:"Contact Us Management"}),f(O,null,{default:E(()=>[n("div",T,[t[27]||(t[27]=n("h2",{class:"text-2xl font-semibold text-dash-title"}," Contact Us Management ",-1)),U.value?(r(),a("div",q," Loading… ")):(r(),a("div",D,[n("div",null,[t[17]||(t[17]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Country",-1)),c(n("select",{class:"form-input","onUpdate:modelValue":t[0]||(t[0]=e=>o.country=e),onChange:B},t[16]||(t[16]=[n("option",{value:""},"—",-1),n("option",{value:"Egypt"},"Egypt",-1),n("option",{value:"Kuwait"},"Kuwait",-1)]),544),[[L,o.country]]),s("country")?(r(),a("p",I,u(s("country")),1)):i("",!0)]),n("div",null,[t[18]||(t[18]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Telephone",-1)),c(n("input",{class:"form-input","onUpdate:modelValue":t[1]||(t[1]=e=>o.telephone=e),onBlur:t[2]||(t[2]=e=>d("telephone"))},null,544),[[m,o.telephone]]),s("telephone")?(r(),a("p",K,u(s("telephone")),1)):i("",!0)]),n("div",z,[n("div",null,[t[19]||(t[19]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Account Name",-1)),c(n("input",{class:"form-input","onUpdate:modelValue":t[3]||(t[3]=e=>o.account_name=e),onBlur:t[4]||(t[4]=e=>d("account_name"))},null,544),[[m,o.account_name]]),s("account_name")?(r(),a("p",G,u(s("account_name")),1)):i("",!0)]),n("div",null,[t[20]||(t[20]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Bank Name",-1)),c(n("input",{class:"form-input","onUpdate:modelValue":t[5]||(t[5]=e=>o.bank_name=e),onBlur:t[6]||(t[6]=e=>d("bank_name"))},null,544),[[m,o.bank_name]]),s("bank_name")?(r(),a("p",H,u(s("bank_name")),1)):i("",!0)]),n("div",null,[t[21]||(t[21]=n("label",{class:"block text-xs text-gray-500 mb-1"},"IBAN",-1)),c(n("input",{class:"form-input","onUpdate:modelValue":t[7]||(t[7]=e=>o.iban=e),onBlur:t[8]||(t[8]=e=>d("iban"))},null,544),[[m,o.iban]]),s("iban")?(r(),a("p",J,u(s("iban")),1)):i("",!0)]),n("div",null,[t[22]||(t[22]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Currency",-1)),c(n("input",{class:"form-input","onUpdate:modelValue":t[9]||(t[9]=e=>o.currency=e),onBlur:t[10]||(t[10]=e=>d("currency"))},null,544),[[m,o.currency]]),s("currency")?(r(),a("p",Q,u(s("currency")),1)):i("",!0)]),n("div",null,[t[23]||(t[23]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Swift Code",-1)),c(n("input",{class:"form-input","onUpdate:modelValue":t[11]||(t[11]=e=>o.swift_code=e),onBlur:t[12]||(t[12]=e=>d("swift_code"))},null,544),[[m,o.swift_code]]),s("swift_code")?(r(),a("p",R,u(s("swift_code")),1)):i("",!0)])]),n("div",W,[t[26]||(t[26]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Location",-1)),f(P,{lat:o.lat,lng:o.long,address:o.location,"onUpdate:lat":t[13]||(t[13]=e=>o.lat=e),"onUpdate:lng":t[14]||(t[14]=e=>o.long=e),"onUpdate:address":t[15]||(t[15]=e=>o.location=e)},null,8,["lat","lng","address"]),n("div",X,[n("div",null,[t[24]||(t[24]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Latitude",-1)),n("input",{class:"form-input bg-gray-100 cursor-not-allowed",value:o.lat,disabled:""},null,8,Y)]),n("div",null,[t[25]||(t[25]=n("label",{class:"block text-xs text-gray-500 mb-1"},"Longitude",-1)),n("input",{class:"form-input bg-gray-100 cursor-not-allowed",value:o.long,disabled:""},null,8,Z)])]),s("location")?(r(),a("p",h,u(s("location")),1)):i("",!0)]),n("div",tt,[n("button",{class:"px-4 py-2 bg-green-600 text-white rounded disabled:opacity-50",disabled:x.value,onClick:M},u(x.value?"Saving…":"Save"),9,et)]),b.value?(r(),a("div",nt,u(b.value),1)):i("",!0),p.value?(r(),a("div",ot,u(p.value),1)):i("",!0)]))])]),_:1})],64))}},dt=A(st,[["__scopeId","data-v-cee86606"]]);export{dt as default};
